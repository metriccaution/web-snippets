<!DOCTYPE html>
<html>
  <head>
    <title>Do A Thing</title>
    <meta charset="UTF-8" />
    <link rel="manifest" href="manifest.json" />
    <style>
      body {
        background: #fefefe;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <h1>
      <span id="spinner">...</span>
    </h1>
    <script>
      // Redirect
      const sites = [
        "https://www.atlasobscura.com/random",
        "https://en.wikipedia.org/wiki/Special:RandomInCategory/Featured_articles",
        "https://longform.org/random",
        "https://c.xkcd.com/random/comic/",
      ];

      // Spinner while the next page loads
      setInterval(() => {
        const el = document.getElementById("spinner");
        switch (el.textContent) {
          case ".":
            return (el.textContent = "..");
          case "..":
            return (el.textContent = "...");
          default:
            return (el.textContent = ".");
        }
      }, 300);

      const site = sites[Math.floor(Math.random() * sites.length)];
      if (location.hash === "#debug") {
        console.log("Redirect", site);
      } else {
        window.onload = () =>
          setTimeout(() => (window.location.href = site), 1000);
      }
    </script>
  </body>
</html>
